<!DOCTYPE html>
<html lang="es">
    <head>
        <!-- Esto es un comentario de HTML -->
        <metacharset="UTF-8"/>
        <meta name="description" content="Resumen del contenido">
        <title>name of the page</title>
        <!-- 
            <meta http-equiv="refresh" content="5"/> 
            <meta http-equiv='refresh' content='0; URL=http://www.google.es/'> 
        -->
        <meta name="author" content="Gerson Laporta">
        <meta name="keywords" content="sport,football,soccer">
        <link rel="icon" href="img/myicon.png" type="image/x-icon">
        <meta name="robots" content="nofollow,noindex">
        <!-- permite vaciar caché cada vez que se carga la página -->
        <meta http-equiv="Cache-Control" content="no-store">
        <meta http-equiv="pragma" content="no-cache">

        <link rel="stylesheet" type="text/css" 
        href="css/310_gl_estilos.css">

        <script src="http://maps.googleapis.com/maps/api/js?sensor=true&key=AIzaSyBF8VSFtSdcuA3dnv5qcOQB7naP57SCDdc"></script>

        <script type="text/javascript">
        
        if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    var latitud = position.coords.latitude;
                    var longitud = position.coords.longitude;
                    var altitud = position.coords.altitude;

                    //alert('latitud: '+latitud+' longitud: '+longitud+' altitud: '+altitud) 

                    //proyectar las coordenadas en un mapa
                    mostrarMapa(latitud, longitud)
                })
        }

        function mostrarMapa(latitud,longitud) {
            var opcionesMapa = {
                center: new google.maps.LatLng(latitud, longitud),
                zoom: 16,
                mapTypeId: google.maps.MapTypeId.HYBRID //TERRAIN
            };

            var map = new google.maps.Map(document.getElementById("mapa"), opcionesMapa);

        //crear un marcador
        var marcador = new google.maps.LatLng(latitud, longitud)

        var mapMarker = new google.maps.Marker({
            position:marcador,
            title: 'estoy aquí'
        })

        mapMarker.setMap(map)

        //añade una ventana de texto al marker
        var infoWindowOpts = {content: "<img src='img/img1.jpg'/>" };

        var infoWindow = new google.maps.InfoWindow(infoWindowOpts);

        google.maps.event.addListener(mapMarker, 'click', function() { infoWindow.open(map,mapMarker);
        });

        }

        </script>

        <style>
        
        #mapa {
            width: 800px; 
            height: 600px;
        }   

        </style>

    </head>

<!-- Principio del HTML -->
    <body>
        
        <div id="mapa"></div>
            
    </body>
<!-- Final del HTML -->

</html>

<!-- 
Texto descriptivo del ejercicio.
-->